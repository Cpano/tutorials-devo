<!--======================================== EXTERNAL STYLES & CALENDAR ICON========================================-->
<link rel="preload" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5/css/all.min.css" as="style"
    onload="this.onload=null;this.rel='stylesheet'">

<link rel="stylesheet" href="https://cpano.github.io/tutorials-devo/public/css/TutorialsStyles.css">


<!--========================================HEADER========================================-->
<!-- CC01v0 -->
<section style="background-image:url(/a/devo/images/cc01-weblogic-hero-banner.jpg);" class="cc01 cc01v0  txtlight cpad">
    <div class="cc01w1 cwidth">

        <h2>Kubernetes - Deploy a Node Express Application</h2>
        <p>In this tutorial, you use an Oracle Cloud Infrastructure account to set up a Kubernetes cluster. Then, you
            deploy a Node Express application to your cluster.</p>

        <div style="display: flex; color: white;">
            <p class="page__date"><strong><i class="fas fa-fw fa-calendar-alt" aria-hidden="true"></i>
                    Updated:</strong>
                <time>September 30, 2021</time>
            </p>

        </div>

    </div>
</section>
<!-- /CC01v0 -->

<!-- F19v0 -->
<section class="f19 f19v0 cpad">
    <div class="f19w1 cwidth">
        <div class="f19w2 f19-2col">
            <div class="f19col f19side">
                <!-- S20v0 -->
                <section class="s20 s20v0 cpad" data-ocomid="s20" data-trackas="s20">
                    <div class="s20w1 cwidth">
                        <div class="col-w1">
                            <h3>Steps to follow</h3>
                            <div class="s20w2">
                                <ul>

                                    <!--<li><strong><a href="#link0">Intro</a></strong></li>-->
                                    <li><strong><a href="#link1">1. Intro</a></strong></li>
                                    <!--
                                    <li style="margin-left:15px;"><a href="#link1s1">Data</a></li>
                                    <li style="margin-left:15px;"><a href="#link1s2">Environments</a></li>
                                    -->
                                    <li><strong><a href="#slide-1">2. Before You Begin</a></strong></li>
                                    <li><strong><a href="#slide-2">3. Install Node.js on your system</a></strong></li>
                                    <li><strong><a href="#slide-3">4. Configure Firewall (Optional)</a></strong></li>
                                    <li><strong><a href="#slide-4">5. Create an Ingress Rule for your VCN
                                                (Optional)</a></strong></li>
                                    <li><strong><a href="#slide-5">7. Install Python 3 and Pip 3</a></strong></li>
                                    <li><strong><a href="#slide-6">8. Install Kubernetes Client</a></strong></li>
                                    <li><strong><a href="#slide-7">9. Install Docker</a></strong></li>
                                    <li><strong><a href="#slide-8">10. Prepare</a></strong></li>
                                    <li><strong><a href="#slide-9">11. Set up OCI Command Line Interface</a></strong>
                                    </li>
                                    <li><strong><a href="#slide-10">12. Set Up a Cluster</a></strong></li>
                                    <li><strong><a href="#slide-11">13. Create a Compartment</a></strong></li>
                                    <li><strong><a href="#slide-12">14. Add Resource Policy</a></strong></li>
                                    <li><strong><a href="#slide-13">15. Set Up Local Access to Your Cluster</a></strong>
                                    </li>
                                    <li><strong><a href="#slide-14">16. Build a Local Application</a></strong></li>
                                    <li><strong><a href="#slide-15">17. Run the Local Application</a></strong></li>
                                    <li><strong><a href="#slide-16">18. Build a Docker Image</a></strong></li>
                                    <li><strong><a href="#slide-17">19. Deploy Your Docker Image</a></strong></li>
                                    <li><strong><a href="#slide-18">20. Push Your Local Image</a></strong></li>
                                    <li><strong><a href="#slide-19">21. Deploy the Image</a></strong></li>
                                    <li><strong><a href="#slide-20">22. Test Your App</a></strong></li>
                                    <li><strong><a href="#slide-21">23. What's Next</a></strong></li>

                                    <br />

                                </ul>
                            </div>

                            <!--Tags-->
                            <h3>Tags</h3>
                            <p> <span class=" tags">
                                    <a class="animated-link tag" href="#">kubernetes</a>
                                    <a class="animated-link tag" href="#">oci</a>
                                    <a class="animated-link tag" href="#">nodejs</a>
                                    <a class="animated-link tag" href="#">front-end</a>
                                </span>
                            </p>

                            <h3></h3>
                            <a href="https://developer.oracle.com/tutorials">
                                <p class="page__date" style="margin-right: 25px;"><strong>
                                        Back to tutorials
                                    </strong>
                                </p>
                            </a>

                        </div>
                    </div>
                </section> <!-- /S20v0 -->
            </div> <!-- SET UP -->
            <main class="f19col f19main">


                <!-- cc01v0 -->
                <section class="cc01 cc01v0 cpad">
                    <div class="cc01w1 cwidth">


                        <h2 class="slide__title"><span class="slide__num">1</span> Introduction</h2>

                        <p>In this tutorial, you use an Oracle Cloud Infrastructure account to set up a Kubernetes
                            cluster. Then, you deploy a Node Express application to your cluster.</p>

                        <p>Key tasks include how to:</p>

                        <ul>
                            <li>Set up a Kubernetes cluster on OCI.</li>
                            <li>Set up OCI CLI to access your cluster.</li>
                            <li>Build a Node Express application and Docker Image.</li>
                            <li>Push your image to OCIR.</li>
                            <li>Deploy your Node.js Docker application to your cluster.</li>
                            <li>Connect to your application from the internet.</li>
                        </ul>

                        <p><img src="https://cool.devo.build/tutorials/assets/deploy-a-node-express-application-Node-K8s-diagram.png"
                                alt="" /></p>

                        <p>For additional information, see:</p>

                        <ul>
                            <li><a href="https://kubernetes.io/docs/home/">Kubernetes Documentation</a></li>
                            <li><a
                                    href="https://docs.oracle.com/iaas/Content/ContEng/Concepts/contengoverview.htm?source=:ex:tb:::::WWMK211117P00058:WW_FY22_DevRel_DotBuild&SC=:ex:tb:::::WWMK211117P00058:WW_FY22_DevRel_DotBuild&pcode=WWMK211117P00058">OCI
                                    Container Engine for Kubernetes</a></li>
                            <li><a
                                    href="https://docs.oracle.com/iaas/Content/Registry/Concepts/registryoverview.htm?source=:ex:tb:::::WWMK211117P00058:WW_FY22_DevRel_DotBuild&SC=:ex:tb:::::WWMK211117P00058:WW_FY22_DevRel_DotBuild&pcode=WWMK211117P00058">OCI
                                    Container Registry</a></li>
                        </ul>

                    </div>

                    <div class="slide" id="slide-1">

                        <h2 class="slide__title"><span class="slide__num">2</span> Before You Begin</h2>

                        <p>To successfully perform this tutorial, you must have the following:</p>

                        <h3 id="requirements">Requirements</h3>

                        <ul>
                            <li>For Container Registry, Kubernetes and Load Balancers:
                                <ul>
                                    <li>A <strong>paid</strong> Oracle Cloud Infrastructure account.</li>
                                    <li>See <a
                                            href="https://docs.oracle.com/iaas/Content/GSG/Tasks/signingup.htm?source=:ex:tb:::::WWMK211117P00058:WW_FY22_DevRel_DotBuild&SC=:ex:tb:::::WWMK211117P00058:WW_FY22_DevRel_DotBuild&pcode=WWMK211117P00058">Signing
                                            Up for Oracle Cloud Infrastructure</a>.</li>
                                </ul>
                            </li>
                            <li>For building applications and Docker images:
                                <ul>
                                    <li>One of the following local environments:
                                        <ul>
                                            <li>A MacOS or Linux machine.</li>
                                            <li>A Windows machine with Linux support. For example:
                                                <ul>
                                                    <li><a
                                                            href="https://docs.microsoft.com/en-us/windows/wsl/install-win10">Windows
                                                            Subsystem for Linux</a></li>
                                                    <li><a href="https://www.virtualbox.org/">Oracle Virtual Box</a>
                                                    </li>
                                                </ul>
                                            </li>
                                        </ul>
                                    </li>
                                    <li>The following applications on your local environment:
                                        <ul>
                                            <li>JDK 11 and set JAVA_HOME in .bashrc.</li>
                                            <li>Python 3.6.8+ and pip installer for Python 3</li>
                                            <li>Kubernetes Client 1.11.9+</li>
                                            <li>Apache Maven 3.0+</li>
                                            <li>Docker 19.0.3+</li>
                                            <li>Git 1.8+</li>
                                            <li>Node.js 10+</li>
                                        </ul>
                                    </li>
                                </ul>
                            </li>
                        </ul>

                        <blockquote class="notice">
                            <p>Note: If you don’t want to set up the required applications on your local environment,
                                you can use Oracle Cloud Infrastructure <strong>Cloud Shell</strong> instead. The
                                advantage of using Cloud Shell is all the required tools to manage your application are
                                already installed and ready to use. Follow the steps in:</p>

                            <p><a
                                    href="https://docs.oracle.com/iaas/developer-tutorials/tutorials/spring-on-k8s-cs/01oci-spring-cs-k8s-summary.htm?source=:ex:tb:::::WWMK211117P00058:WW_FY22_DevRel_DotBuild&SC=:ex:tb:::::WWMK211117P00058:WW_FY22_DevRel_DotBuild&pcode=WWMK211117P00058">Kubernetes
                                    Using Cloud Shell: Deploy a Spring Boot Application</a></p>
                        </blockquote>

                        <h3 id="get-the-applications-for-linux-on-oci-free-tier">Get the Applications for Linux on OCI
                            Free Tier</h3>

                        <p>If you want to use an OCI Free Tier Linux compute instance to manage your deployment, the
                            following sections provide information to get the required software installed.</p>

                        <h4 id="install-a-linux-instance">Install a Linux Instance</h4>

                        <p>Install a Linux VM with an <strong>Always Free</strong> compute shape, on Oracle Cloud
                            Infrastructure. You will need a machine with <code
                                class="language-plaintext highlighter-rouge">ssh</code> support to connect to your Linux
                            instance.</p>

                        <ul>
                            <li>To <a
                                    href="https://docs.oracle.com/iaas/developer-tutorials/tutorials/apache-on-oracle-linux/01oci-ol-apache-summary.htm#create-oracle-linux-vm?source=:ex:tb:::::WWMK211117P00058:WW_FY22_DevRel_DotBuild&SC=:ex:tb:::::WWMK211117P00058:WW_FY22_DevRel_DotBuild&pcode=WWMK211117P00058">install
                                    an Oracle Linux VM</a>
                                <ul>
                                    <li>Follow sections 2 and 3.</li>
                                    <li>If you have a paid account, for section 2, choose your compute options based on
                                        your offerings.</li>
                                    <li>To connect to your instance, in section 4, follow steps 1-5.</li>
                                    <li>Skip the Apache instructions.</li>
                                </ul>
                            </li>
                            <li>To <a
                                    href="https://docs.oracle.com/iaas/developer-tutorials/tutorials/helidon-on-ubuntu/01oci-ubuntu-helidon-summary.htm#create-ubuntu-vm?source=:ex:tb:::::WWMK211117P00058:WW_FY22_DevRel_DotBuild&SC=:ex:tb:::::WWMK211117P00058:WW_FY22_DevRel_DotBuild&pcode=WWMK211117P00058">install
                                    an Ubuntu VM</a>
                                <ul>
                                    <li>Follow sections 2 and 3.</li>
                                    <li>If you have a paid account, for section 2, choose compute options based on your
                                        offerings.</li>
                                    <li>To connect to your instance, in section 4, follow steps 1-5.</li>
                                    <li>Skip the Apache instructions.</li>
                                    <li>To update the firewall settings, in section 4, perform step 8.</li>
                                </ul>
                            </li>
                        </ul>



                    </div>

                    <div class="slide" id="slide-2">

                        <h2 class="slide__title"><span class="slide__num">3</span> Install Node.js on your system.</h2>

                        <p>First, you will run install commands. To install Node.js and NPM, run the following commands,
                            using the appropriate system:</p>

                        <h3 id="oracle-linux">Oracle Linux:</h3>

                        <div class="language-console highlighter-rouge">
                            <div class="highlight">
                                <pre class="highlight"><code><span class="go">sudo yum update
                    </span></code></pre>
                            </div>
                        </div>

                        <p>Set up the Yum repo for Node.js. Then install the <code
                                class="language-plaintext highlighter-rouge">nodejs</code> package.</p>

                        <div class="language-console highlighter-rouge">
                            <div class="highlight">
                                <pre class="highlight"><code><span class="go">sudo yum install -y oracle-nodejs-release-el7
                    sudo yum install -y nodejs
                    </span></code></pre>
                            </div>
                        </div>

                        <h3 id="ubuntu">Ubuntu:</h3>

                        <div class="language-console highlighter-rouge">
                            <div class="highlight">
                                <pre class="highlight"><code><span class="go">sudo apt update
                    </span></code></pre>
                            </div>
                        </div>

                        <p>Install the <code class="language-plaintext highlighter-rouge">nodejs</code> and the <code
                                class="language-plaintext highlighter-rouge">npm</code> packages.</p>

                        <div class="language-console highlighter-rouge">
                            <div class="highlight">
                                <pre class="highlight"><code><span class="go">sudo apt install -y nodejs
                    sudo apt install -y npm
                    </span></code></pre>
                            </div>
                        </div>
                        <p>Verify the installation.</p>

                        <div class="language-console highlighter-rouge">
                            <div class="highlight">
                                <pre class="highlight"><code><span class="go">node -v
                    npm -v
                    </span></code></pre>
                            </div>
                        </div>

                    </div>

                    <div class="slide" id="slide-3">

                        <h2 class="slide__title"><span class="slide__num">4</span> Configure Firewall (Optional)</h2>

                        <blockquote class="notice">
                            <p>Note: If you want to do browser-based testing of your Node application, make port 3000
                                available on your Linux instance.</p>
                        </blockquote>

                        <h3 id="oracle-linux-1">Oracle Linux:</h3>

                        <div class="language-console highlighter-rouge">
                            <div class="highlight">
                                <pre class="highlight"><code><span class="go">sudo firewall-cmd --add-service=http --permanent
                    sudo firewall-cmd --add-service=https --permanent
                    sudo firewall-cmd --reload
                    </span></code></pre>
                            </div>
                        </div>

                        <h3 id="ubuntu-linux">Ubuntu Linux:</h3>

                        <div class="language-console highlighter-rouge">
                            <div class="highlight">
                                <pre class="highlight"><code><span class="go">sudo iptables -I INPUT 6 -m state --state NEW -p tcp --dport 3000 -j ACCEPT
                    sudo netfilter-persistent save
                    </span></code></pre>
                            </div>
                        </div>

                    </div>

                    <div class="slide" id="slide-4">

                        <h2 class="slide__title"><span class="slide__num">5</span> Create an Ingress Rule for your VCN
                            (Optional)</h2>

                        <p>Follow these steps to select your VCN’s public subnet and add the ingress rule.</p>

                        <ol>
                            <li>Open the navigation menu and click <strong>Networking</strong>, and then click
                                <strong>Virtual Cloud Networks</strong>.
                            </li>
                            <li>Select the VCN you created with your compute instance.</li>
                            <li>With your new VCN displayed, click <strong><code
                                        class="language-plaintext highlighter-rouge">&lt;</code>your-subnet-name<code
                                        class="language-plaintext highlighter-rouge">&gt;</code></strong> subnet link.
                                The public subnet information is displayed with the Security Lists at the bottom of the
                                page. A link to the <strong>Default Security List</strong> for your VCN is displayed.
                            </li>
                            <li>Click the <strong>Default Security List</strong> link.
                                <ul>
                                    <li>The default <strong>Ingress Rules</strong> for your VCN are displayed.</li>
                                </ul>
                            </li>
                            <li>Click <strong>Add Ingress Rules</strong>.
                                <ul>
                                    <li>An <strong>Add Ingress Rules</strong> dialog is displayed.</li>
                                </ul>
                            </li>
                            <li>
                                <p>Fill in the ingress rule with the following information:</p>

                                <div class="language-console highlighter-rouge">
                                    <div class="highlight">
                                        <pre class="highlight"><code><span class="go"> Stateless: Checked
                     Source Type: CIDR
                     Source CIDR: 0.0.0.0/0
                     IP Protocol: TCP
                     Source port range: (leave-blank)
                     Destination Port Range: 3000
                     Description: Allow HTTP connections
                    </span></code></pre>
                                    </div>
                                </div>
                            </li>
                            <li>Click Add Ingress Rule.</li>
                        </ol>

                        <p>Now HTTP connections are allowed. Your VCN is configured for Node Express.</p>

                        <p>You have successfully created an ingress rule that makes your instance available from the
                            internet.</p>

                    </div>

                    <div class="slide" id="slide-5">

                        <h2 class="slide__title"><span class="slide__num">6</span> Install Python 3 and Pip 3</h2>

                        <ol>
                            <li>
                                <p>Verify your current installation.</p>

                                <div class="language-console highlighter-rouge">
                                    <div class="highlight">
                                        <pre class="highlight"><code><span class="go"> python3 --version
                    </span></code></pre>
                                    </div>
                                </div>
                            </li>
                            <li>
                                <p>For Python 3, run the following commands:</p>

                                <ul>
                                    <li>
                                        <p>Oracle Linux:</p>

                                        <div class="language-console highlighter-rouge">
                                            <div class="highlight">
                                                <pre class="highlight"><code><span class="go">  sudo yum update
                    
                      sudo yum install -y python3
                    </span></code></pre>
                                            </div>
                                        </div>
                                    </li>
                                    <li>
                                        <p>Ubuntu:</p>

                                        <div class="language-console highlighter-rouge">
                                            <div class="highlight">
                                                <pre class="highlight"><code><span class="go">  sudo apt update
                    
                      sudo apt install -y python3
                    </span></code></pre>
                                            </div>
                                        </div>
                                    </li>
                                </ul>
                            </li>
                            <li>
                                <p>Verify the pip installation for Python3.</p>

                                <div class="language-console highlighter-rouge">
                                    <div class="highlight">
                                        <pre class="highlight"><code><span class="go"> pip3 -V
                    </span></code></pre>
                                    </div>
                                </div>

                                <p>Example output if pip for Python3 is installed:</p>

                                <div class="language-console highlighter-rouge">
                                    <div class="highlight">
                                        <pre class="highlight"><code><span class="gp"> pip &lt;version&gt;</span><span class="w"> </span>from xxx/lib/python3.x/site-packages/pip   <span class="o">(</span>python 3.x<span class="o">)</span>
                    </code></pre>
                                    </div>
                                </div>
                            </li>
                            <li>
                                <p>To install Pip for Python 3, run the following commands:</p>

                                <ul>
                                    <li>
                                        <p>Oracle Linux:</p>

                                        <div class="language-console highlighter-rouge">
                                            <div class="highlight">
                                                <pre class="highlight"><code><span class="go">  sudo yum update
                    
                      sudo yum install -y python3-pip
                    </span></code></pre>
                                            </div>
                                        </div>
                                    </li>
                                    <li>
                                        <p>Ubuntu:</p>

                                        <div class="language-console highlighter-rouge">
                                            <div class="highlight">
                                                <pre class="highlight"><code><span class="go">  sudo apt update
                    
                      sudo apt install -y python3-pip
                    </span></code></pre>
                                            </div>
                                        </div>
                                    </li>
                                </ul>
                            </li>
                            <li>
                                <p>Verify the pip for Python 3 installation.</p>

                                <div class="language-console highlighter-rouge">
                                    <div class="highlight">
                                        <pre class="highlight"><code><span class="go"> pip3 -V
                    </span></code></pre>
                                    </div>
                                </div>
                            </li>
                        </ol>

                    </div>

                    <div class="slide" id="slide-6">

                        <h2 class="slide__title"><span class="slide__num">7</span> Install Kubernetes Client</h2>

                        <ol>
                            <li>
                                <p>Verify your current installation:</p>

                                <div class="language-console highlighter-rouge">
                                    <div class="highlight">
                                        <pre class="highlight"><code><span class="go"> kubectl version --client
                    </span></code></pre>
                                    </div>
                                </div>

                                <p>If you have Kubernetes, then the version is <code
                                        class="language-plaintext highlighter-rouge">&lt;major-version&gt;.&lt;minor-version&gt;</code>.
                                    For example, for version 1.20, you get the following:</p>

                                <div class="language-console highlighter-rouge">
                                    <div class="highlight">
                                        <pre class="highlight"><code><span class="go"> version.Info{Major:"1", Minor:"20"...
                    </span></code></pre>
                                    </div>
                                </div>
                            </li>
                            <li>To install he <code class="language-plaintext highlighter-rouge">kubectl</code> client,
                                refer to the following links:
                                <ul>
                                    <li><a
                                            href="https://kubernetes.io/docs/tasks/tools/install-kubectl-linux/#install-kubectl-binary-with-curl-on-linux">Install
                                            Kubernetes client on Linux</a></li>
                                    <li><a href="https://kubernetes.io/docs/tasks/tools/install-kubectl-macos/">Install
                                            Kubernetes client on MacOS</a></li>
                                </ul>
                            </li>
                            <li>
                                <p>Verify the installation.</p>

                                <div class="language-console highlighter-rouge">
                                    <div class="highlight">
                                        <pre class="highlight"><code><span class="go"> kubectl version --client
                    </span></code></pre>
                                    </div>
                                </div>
                            </li>
                        </ol>

                    </div>

                    <div class="slide" id="slide-7">

                        <h2 class="slide__title"><span class="slide__num">8</span> Install Docker</h2>

                        <ol>
                            <li>
                                <p>Verify your current installation:</p>

                                <div class="language-console highlighter-rouge">
                                    <div class="highlight">
                                        <pre class="highlight"><code><span class="go"> docker -v
                    </span></code></pre>
                                    </div>
                                </div>

                                <ul>
                                    <li>
                                        <p>Oracle Linux</p>

                                        <div class="language-console highlighter-rouge">
                                            <div class="highlight">
                                                <pre class="highlight"><code><span class="go">  sudo yum install docker-engine
                                
                      sudo systemctl start docker
                    
                      sudo systemctl enable docker
                    </span></code></pre>
                                            </div>
                                        </div>

                                        <blockquote class="notice">
                                            <p>Note: The last command enables Docker to start on reboots.</p>
                                        </blockquote>
                                    </li>
                                    <li>
                                        <p>Ubuntu Linux</p>

                                        <p>To install Docker on Ubuntu Linux, refer to the following link: <a
                                                href="https://docs.docker.com/get-docker/">Get Docker</a></p>
                                    </li>
                                </ul>
                            </li>
                            <li>
                                <p>Verify the installation.</p>

                                <div class="language-console highlighter-rouge">
                                    <div class="highlight">
                                        <pre class="highlight"><code><span class="go"> docker -v
                    </span></code></pre>
                                    </div>
                                </div>
                            </li>
                        </ol>

                    </div>

                    <div class="slide" id="slide-8">

                        <h2 class="slide__title"><span class="slide__num">9</span> Prepare</h2>

                        <p>Prepare your environment to create and deploy your application.</p>

                        <h3 id="check-your-service-limits">Check your Service Limits</h3>

                        <ol>
                            <li>Log in to the Oracle Cloud Infrastructure <strong>Console</strong>.</li>
                            <li>Open the navigation menu, and click Governance and Administration. Under Governance,
                                click Limits, Quotas and Usage.</li>
                            <li>
                                <p>Find your service limit for <strong>Regions</strong>:</p>

                                <p><strong>Filter</strong> for the following options:</p>

                                <ul>
                                    <li><strong>Service:</strong> Regions</li>
                                    <li><strong>Scope:</strong> Tenancy</li>
                                    <li><strong>Resource:</strong> Subscribed region count</li>
                                    <li><strong>Compartment:</strong> <code
                                            class="language-plaintext highlighter-rouge">&lt;tenancy-name&gt;</code>
                                        (root)</li>
                                </ul>

                                <p>Find service limit:</p>

                                <ul>
                                    <li><strong>Limit Name:</strong> <code
                                            class="language-plaintext highlighter-rouge">subscribed-region-count</code>
                                    </li>
                                    <li><strong>Service Limit:</strong> minimum 2</li>
                                </ul>
                            </li>
                            <li>
                                <p>Find your available <strong>Compute</strong> <strong>core count</strong> for the
                                    <strong>VM.Standard.E3.Flex</strong> shape:
                                </p>

                                <p><strong>Filter</strong> for the following options:</p>

                                <ul>
                                    <li><strong>Service:</strong> Compute</li>
                                    <li><strong>Scope:</strong> <code
                                            class="language-plaintext highlighter-rouge">&lt;first-availability-domain&gt;</code>.
                                        Example: <code
                                            class="language-plaintext highlighter-rouge">EMlr:US-ASHBURN-AD-1</code>
                                    </li>
                                    <li><strong>Resource:</strong> <strong>Cores</strong> for
                                        <strong>Standard.E3.Flex</strong> and BM.Standard.E3.128 Instances
                                    </li>
                                    <li><strong>Compartment:</strong> <code
                                            class="language-plaintext highlighter-rouge">&lt;tenancy-name&gt;</code>
                                        (root)</li>
                                </ul>

                                <p>Find available core count:</p>

                                <ul>
                                    <li><strong>Limit Name:</strong> <code
                                            class="language-plaintext highlighter-rouge">standard-e3-core-ad-count</code>
                                    </li>
                                    <li><strong>Available:</strong> minimum 1</li>
                                </ul>

                                <p>Repeat for <strong>Scope:</strong> <code
                                        class="language-plaintext highlighter-rouge">&lt;second-availability-domain&gt;</code>
                                    and <code
                                        class="language-plaintext highlighter-rouge">&lt;third-availability-domain&gt;</code>.
                                    Each region must have at least one core available for this shape.</p>
                            </li>
                            <li>
                                <p>Find out if you have <strong>50 GB</strong> of <strong>Block Volume</strong>
                                    available:</p>

                                <p><strong>Filter</strong> for the following options:</p>

                                <ul>
                                    <li><strong>Service:</strong> Block Volume</li>
                                    <li><strong>Scope:</strong> <code
                                            class="language-plaintext highlighter-rouge">&lt;first-availability-domain&gt;</code>.
                                        Example: <code
                                            class="language-plaintext highlighter-rouge">EMlr:US-ASHBURN-AD-1</code>
                                    </li>
                                    <li><strong>Resource</strong> Volume Size (GB)</li>
                                    <li><strong>Compartment:</strong> <code
                                            class="language-plaintext highlighter-rouge">&lt;tenancy-name&gt;</code>
                                        (root)</li>
                                </ul>

                                <p>Find available block volume storage:</p>

                                <ul>
                                    <li><strong>Limit Name:</strong> <code
                                            class="language-plaintext highlighter-rouge">total-storage-gb</code></li>
                                    <li><strong>Available:</strong> minimum 50</li>
                                </ul>

                                <p>Repeat for <strong>Scope:</strong> <code
                                        class="language-plaintext highlighter-rouge">&lt;second-availability-domain&gt;</code>
                                    and <code
                                        class="language-plaintext highlighter-rouge">&lt;third-availability-domain&gt;</code>.
                                    Each region must have at least 50 GB of block volume available.</p>
                            </li>
                            <li>
                                <p>Find out how many <strong>Flexible Load Balancers</strong> you have available:</p>

                                <p><strong>Filter</strong> for the following options:</p>

                                <ul>
                                    <li><strong>Service:</strong> LBaaS</li>
                                    <li><strong>Scope:</strong> <code
                                            class="language-plaintext highlighter-rouge">&lt;your-region&gt;</code>.
                                        Example: <code class="language-plaintext highlighter-rouge">us-ashburn-1</code>
                                    </li>
                                    <li><strong>Resource:</strong> <code
                                            class="language-plaintext highlighter-rouge">&lt;blank&gt;</code></li>
                                    <li><strong>Compartment:</strong> <code
                                            class="language-plaintext highlighter-rouge">&lt;tenancy-name&gt;</code>
                                        (root)</li>
                                </ul>

                                <p>Find the number of available flexible load balancers:</p>

                                <ul>
                                    <li><strong>Limit Name:</strong> <code
                                            class="language-plaintext highlighter-rouge">lb-flexible-count</code></li>
                                    <li><strong>Available:</strong> minimum 1</li>
                                </ul>
                            </li>
                        </ol>

                        <blockquote class="notice">
                            <p>Note: This tutorial creates three compute instances with a
                                <strong>VM.Standard.E3.Flex</strong> shape for the cluster nodes. To use another shape,
                                filter for its <strong>core count</strong>. For example, for
                                <strong>VM.Standard2.4</strong>, filter for <strong>Cores for Standard2 based VM and BM
                                    Instances</strong> and get the <strong>count</strong>.
                            </p>
                        </blockquote>

                        <p>For a list of all shapes, see <a
                                href="https://docs.oracle.com/iaas/Content/Compute/References/computeshapes.htm#vmshapes__vm-standard?source=:ex:tb:::::WWMK211117P00058:WW_FY22_DevRel_DotBuild&SC=:ex:tb:::::WWMK211117P00058:WW_FY22_DevRel_DotBuild&pcode=WWMK211117P00058">VM
                                Standard Shapes</a>.</p>

                        <blockquote class="notice">
                            <p>Note: This tutorial creates a load balancer with a <strong>flexible</strong> shape. To
                                use another bandwidth, filter for its <strong>count</strong>, for example
                                <strong>100-Mbps bandwidth</strong> or <strong>400-Mbps bandwidth</strong>.
                            </p>
                        </blockquote>

                        <h3 id="create-an-authorization-token">Create an Authorization Token</h3>

                        <ol>
                            <li>In the Console’s top navigation bar, click the <strong>Profile</strong> menu (your
                                avatar).</li>
                            <li>Click your username.</li>
                            <li>Click Auth Tokens.</li>
                            <li>Click Generate Token.</li>
                            <li>Give it a description.</li>
                            <li>Click Generate Token.</li>
                            <li>Copy the token and <strong>save</strong> it.</li>
                            <li>Click Close.</li>
                        </ol>

                        <blockquote class="notice">
                            <p>Note: Ensure that you save your token right after you create it. You have no access to it
                                later.</p>
                        </blockquote>

                        <h3 id="gather-required-information">Gather Required Information</h3>

                        <ol>
                            <li>Collect the following credential information from the Oracle Cloud Infrastructure
                                <strong>Console</strong>.
                                <ul>
                                    <li><strong>Tenancy name:</strong> <code
                                            class="language-plaintext highlighter-rouge">&lt;tenancy-name&gt;</code>
                                        <ul>
                                            <li>Click your <strong>Profile</strong> menu (your avatar) and find your
                                                <strong>Tenancy:<code
                                                        class="language-plaintext highlighter-rouge">&lt;tenancy-name&gt;</code></strong>.
                                            </li>
                                        </ul>
                                    </li>
                                    <li><strong>Tenancy namespace:</strong> <code
                                            class="language-plaintext highlighter-rouge">&lt;tenancy-namespace&gt;</code>
                                        <ul>
                                            <li>Click your <strong>Profile</strong> menu (your avatar).</li>
                                            <li>Click <strong>Tenancy:<code
                                                        class="language-plaintext highlighter-rouge">&lt;tenancy-name&gt;</code></strong>.
                                            </li>
                                            <li>Copy the value for <strong>Object Storage Namespace</strong>.</li>
                                        </ul>

                                        <blockquote class="notice">
                                            <p>Note For some accounts, tenancy name and namespace differ. Ensure that
                                                you use namespace in this tutorial.</p>
                                        </blockquote>
                                    </li>
                                    <li><strong>Tenancy OCID:</strong> <code
                                            class="language-plaintext highlighter-rouge">&lt;tenancy-ocid&gt;</code>
                                        <ul>
                                            <li>Click your <strong>Profile</strong> menu (your avatar), then click
                                                <strong>Tenancy:<code
                                                        class="language-plaintext highlighter-rouge">&lt;tenancy-name&gt;</code></strong>,
                                                and copy OCID.
                                            </li>
                                        </ul>
                                    </li>
                                    <li><strong>Username:</strong> <code
                                            class="language-plaintext highlighter-rouge">&lt;user-name&gt;</code>
                                        <ul>
                                            <li>Click your <strong>Profile</strong> menu (your avatar).</li>
                                        </ul>
                                    </li>
                                    <li><strong>User OCID:</strong> <code
                                            class="language-plaintext highlighter-rouge">&lt;user-ocid&gt;</code>
                                        <ul>
                                            <li>Click your <strong>Profile</strong> menu (your avatar), then click
                                                <strong>User Settings</strong>, and copy OCID.
                                            </li>
                                        </ul>
                                    </li>
                                </ul>
                            </li>
                            <li>
                                <p>Find your region information.</p>

                                <ul>
                                    <li><strong>Region:</strong> <code
                                            class="language-plaintext highlighter-rouge">&lt;region-identifier&gt;</code>
                                        <ul>
                                            <li>In the Console’s top navigation bar, find your region. Example:
                                                <strong>US East (Ashburn)</strong>.
                                            </li>
                                            <li>Find your <strong>Region Identifier</strong> from the table in <a
                                                    href="https://docs.oracle.com/iaas/Content/General/Concepts/regions.htm?source=:ex:tb:::::WWMK211117P00058:WW_FY22_DevRel_DotBuild&SC=:ex:tb:::::WWMK211117P00058:WW_FY22_DevRel_DotBuild&pcode=WWMK211117P00058">Regions
                                                    and Availability Domains</a>.</li>
                                            <li>Example: <code
                                                    class="language-plaintext highlighter-rouge">us-ashburn-1</code>.
                                            </li>
                                        </ul>
                                    </li>
                                    <li><strong>Region Key:</strong> <code
                                            class="language-plaintext highlighter-rouge">&lt;region-key&gt;</code>
                                        <ul>
                                            <li>Find your <strong>Region Key</strong> from the table in <a
                                                    href="https://docs.oracle.com/iaas/Content/General/Concepts/regions.htm?source=:ex:tb:::::WWMK211117P00058:WW_FY22_DevRel_DotBuild&SC=:ex:tb:::::WWMK211117P00058:WW_FY22_DevRel_DotBuild&pcode=WWMK211117P00058">Regions
                                                    and Availability Domains</a>.</li>
                                            <li>Example: <code class="language-plaintext highlighter-rouge">iad</code>
                                            </li>
                                        </ul>
                                    </li>
                                </ul>
                            </li>
                            <li>
                                <p>Copy your authentication token from <strong>Create an Authentication Token</strong>
                                    section.</p>

                                <p><strong>Auth Token:</strong> <code
                                        class="language-plaintext highlighter-rouge">&lt;auth-token&gt;</code></p>
                            </li>
                        </ol>

                    </div>

                    <div class="slide" id="slide-9">

                        <h2 class="slide__title"><span class="slide__num">10</span> Set up OCI Command Line Interface
                        </h2>

                        <h3 id="install-a-python-virtual-environment-and-wrapper">Install a Python Virtual Environment
                            and Wrapper</h3>

                        <p>The Python <code class="language-plaintext highlighter-rouge">virtualenv</code> creates a
                            folder that contains all the executables and libraries for your project.</p>

                        <p>The <code class="language-plaintext highlighter-rouge">virtualenvwrapper</code> is an
                            extension to <code class="language-plaintext highlighter-rouge">virtualenv</code>. It
                            provides a set of commands, which makes working with virtual environments much more
                            pleasant. It also places all your virtual environments in one place. The <code
                                class="language-plaintext highlighter-rouge">virtualenvwrapper</code> provides
                            tab-completion on environment names.</p>

                        <ol>
                            <li>
                                <p>Install <code class="language-plaintext highlighter-rouge">virtualenv</code>.</p>

                                <div class="language-console highlighter-rouge">
                                    <div class="highlight">
                                        <pre class="highlight"><code><span class="go"> pip3 install --user virtualenv
                    </span></code></pre>
                                    </div>
                                </div>
                            </li>
                            <li>
                                <p>Install <code class="language-plaintext highlighter-rouge">virtualenvwrapper</code>.
                                </p>

                                <div class="language-console highlighter-rouge">
                                    <div class="highlight">
                                        <pre class="highlight"><code><span class="go"> pip3 install --user virtualenvwrapper
                    </span></code></pre>
                                    </div>
                                </div>
                            </li>
                            <li>
                                <p>Find the location of the <code
                                        class="language-plaintext highlighter-rouge">virtualenvwrapper.sh</code> script.
                                </p>

                                <div class="language-console highlighter-rouge">
                                    <div class="highlight">
                                        <pre class="highlight"><code><span class="go"> grep -R virtualenvwrapper.sh
                    </span></code></pre>
                                    </div>
                                </div>

                                <p>Example paths:</p>

                                <div class="language-plaintext highlighter-rouge">
                                    <div class="highlight">
                                        <pre class="highlight"><code> Linux example: 
                         /home/ubuntu/.local/bin/virtualenvwrapper.sh
                     MacOS example: 
                         /usr/local/bin/virtualenvwrapper.sh
                    </code></pre>
                                    </div>
                                </div>
                            </li>
                            <li>
                                <p>Configure the virtual environment wrapper in <code
                                        class="language-plaintext highlighter-rouge">.bashrc</code>.</p>

                                <div class="language-console highlighter-rouge">
                                    <div class="highlight">
                                        <pre class="highlight"><code><span class="go"> sudo vi .bashrc
                    </span></code></pre>
                                    </div>
                                </div>

                                <p>Append the following text.</p>

                                <div class="language-console highlighter-rouge">
                                    <div class="highlight">
                                        <pre class="highlight"><code><span class="gp"> #</span><span class="w"> </span><span class="nb">set </span>up Python <span class="nb">env</span>
                    <span class="go"> export WORKON_HOME=~/envs
                     export VIRTUALENVWRAPPER_PYTHON=/usr/bin/python3
                     export VIRTUALENVWRAPPER_VIRTUALENV_ARGS=' -p /usr/bin/python3 '
                    </span><span class="gp"> source &lt;path-to-virtualenvwrapper.sh&gt;</span><span class="w">
                    </span></code></pre>
                                    </div>
                                </div>

                                <p>Replace <code
                                        class="language-plaintext highlighter-rouge">&lt;path-to-virtualenvwrapper.sh&gt;</code>
                                    with its value.</p>

                                <p>Based on the location of Python3 binaries in your environment, update <code
                                        class="language-plaintext highlighter-rouge">/usr/bin/python3</code> to its
                                    correct location.</p>

                                <p>Save the file.</p>
                            </li>
                            <li>
                                <p>Activate the commands in the current window.</p>

                                <div class="language-console highlighter-rouge">
                                    <div class="highlight">
                                        <pre class="highlight"><code><span class="go"> source ~/.bashrc
                    </span></code></pre>
                                    </div>
                                </div>

                                <p>Example output:</p>

                                <div class="language-console highlighter-rouge">
                                    <div class="highlight">
                                        <pre class="highlight"><code><span class="go"> virtualenvwrapper.user_scripts creating /home/ubuntu/envs/premkproject
                     virtualenvwrapper.user_scripts creating /home/ubuntu/envs/postmkproject
                     virtualenvwrapper.user_scripts creating /home/ubuntu/envs/initialize
                     virtualenvwrapper.user_scripts creating /home/ubuntu/envs/premkvirtualenv
                     virtualenvwrapper.user_scripts creating /home/ubuntu/envs/postmkvirtualenv
                     virtualenvwrapper.user_scripts creating /home/ubuntu/envs/prermvirtualenv
                     virtualenvwrapper.user_scripts creating /home/ubuntu/envs/postrmvirtualenv
                     virtualenvwrapper.user_scripts creating /home/ubuntu/envs/predeactivate
                     virtualenvwrapper.user_scripts creating /home/ubuntu/envs/postdeactivate
                     virtualenvwrapper.user_scripts creating /home/ubuntu/envs/preactivate
                     virtualenvwrapper.user_scripts creating /home/ubuntu/envs/postactivate
                    </span></code></pre>
                                    </div>
                                </div>
                            </li>
                        </ol>

                        <h3 id="install-oci-cli">Install OCI CLI</h3>

                        <ol>
                            <li>
                                <p>Start a virtual environment.</p>

                                <div class="language-console highlighter-rouge">
                                    <div class="highlight">
                                        <pre class="highlight"><code><span class="go"> workon cli-app
                    </span></code></pre>
                                    </div>
                                </div>
                            </li>
                            <li>
                                <p>Confirm that the name of your virtual environment, <code
                                        class="language-plaintext highlighter-rouge">cli-app</code> appears in the left
                                    of your command prompt.</p>

                                <p>Example: <code
                                        class="language-plaintext highlighter-rouge">(cli-app) ubuntu@&lt;ubuntu-instance-name&gt;:~$</code>
                                </p>
                            </li>
                            <li>
                                <p>Install OCI CLI.</p>

                                <div class="language-console highlighter-rouge">
                                    <div class="highlight">
                                        <pre class="highlight"><code><span class="go"> pip3 install oci-cli
                    </span></code></pre>
                                    </div>
                                </div>
                            </li>
                            <li>
                                <p>Test the installation:</p>

                                <div class="language-console highlighter-rouge">
                                    <div class="highlight">
                                        <pre class="highlight"><code><span class="go"> oci --version
                    </span></code></pre>
                                    </div>
                                </div>

                                <p>If everything is set up correctly, you get the version.</p>

                                <div class="language-console highlighter-rouge">
                                    <div class="highlight">
                                        <pre class="highlight"><code><span class="go"> oci --help
                    </span></code></pre>
                                    </div>
                                </div>
                            </li>
                        </ol>

                        <h4 id="configure-the-oci-cli">Configure the OCI CLI</h4>

                        <ol>
                            <li>
                                <p>Enter the following command in your <strong>virtual environment</strong>:</p>

                                <div class="language-console highlighter-rouge">
                                    <div class="highlight">
                                        <pre class="highlight"><code><span class="go"> oci setup config
                    </span></code></pre>
                                    </div>
                                </div>
                            </li>
                            <li>Enter your answers from the <strong>Gather Required Information</strong> section:
                                <ul>
                                    <li><strong>Location for your config [$HOME/.oci/config]:</strong> <code
                                            class="language-plaintext highlighter-rouge">&lt;take-default&gt;</code>
                                    </li>
                                    <li><strong>User OCID:</strong> <code
                                            class="language-plaintext highlighter-rouge">&lt;user-ocid&gt;</code></li>
                                    <li><strong>Tenancy OCID:</strong> <code
                                            class="language-plaintext highlighter-rouge">&lt;tenancy-ocid&gt;</code>
                                    </li>
                                    <li><strong>Region (e.g. us-ashburn-1):</strong> <code
                                            class="language-plaintext highlighter-rouge">&lt;region-identifier&gt;</code>
                                    </li>
                                </ul>
                            </li>
                            <li>Enter the following information to set up your OpenSSL API encryption keys:
                                <ul>
                                    <li><strong>Generate a new API Signing RSA key pair? [Y/n]:</strong> Y</li>
                                    <li><strong>Directory for your keys [$HOME/.oci]:</strong> <code
                                            class="language-plaintext highlighter-rouge">&lt;take-default&gt;</code>
                                    </li>
                                    <li><strong>Name for your key [oci_api_key]</strong> <code
                                            class="language-plaintext highlighter-rouge">&lt;take-default&gt;</code>
                                    </li>
                                </ul>
                            </li>
                            <li>
                                <p>Deactivate the virtual environment:</p>

                                <div class="language-console highlighter-rouge">
                                    <div class="highlight">
                                        <pre class="highlight"><code><span class="go"> deactivate
                    </span></code></pre>
                                    </div>
                                </div>
                            </li>
                        </ol>

                        <p>The <code class="language-plaintext highlighter-rouge">(cli-app)</code> prefix in your
                            environment is not displayed any more.</p>

                        <blockquote class="notice">
                            <p>Note: Your private key is <code
                                    class="language-plaintext highlighter-rouge">oci_api_key.pem</code> and your public
                                key is <code class="language-plaintext highlighter-rouge">oci_api_key_public.pem</code>.
                            </p>
                        </blockquote>

                        <h3 id="add-the-public-key-to-your-user-account">Add the Public Key to Your User Account.</h3>

                        <ol>
                            <li>
                                <p>Activate the <code class="language-plaintext highlighter-rouge">cli-app</code>
                                    environment:</p>

                                <div class="language-console highlighter-rouge">
                                    <div class="highlight">
                                        <pre class="highlight"><code><span class="go"> workon cli-app
                    </span></code></pre>
                                    </div>
                                </div>
                            </li>
                            <li>
                                <p>Display the public key.</p>

                                <div class="language-console highlighter-rouge">
                                    <div class="highlight">
                                        <pre class="highlight"><code><span class="gp"> cat $</span>HOME/.oci/oci_api_key_public.pem
                    </code></pre>
                                    </div>
                                </div>
                            </li>
                            <li>
                                <p>Copy the public key.</p>
                            </li>
                            <li>
                                <p>Add the public key to your user account:</p>

                                <ul>
                                    <li>Go to the Console.</li>
                                    <li>Click your Profile menu (your avatar), and then click <strong>User
                                            Settings</strong>.</li>
                                    <li>Click <strong>API Keys</strong>.</li>
                                    <li>Click <strong>Add API Key</strong>.</li>
                                    <li>Click <strong>Paste Public Key</strong>.</li>
                                    <li>Paste value from previous step, including the lines with <code
                                            class="language-plaintext highlighter-rouge">BEGIN PUBLIC KEY</code> and
                                        <code class="language-plaintext highlighter-rouge">END PUBLIC KEY</code>.
                                    </li>
                                    <li>Click <strong>Add</strong>.</li>
                                </ul>
                            </li>
                        </ol>

                        <blockquote class="notice">
                            <p>Note:</p>
                            <ul>
                                <li>Whenever you want to use the OCI CLI, activate it with: <code
                                        class="language-plaintext highlighter-rouge">workon cli-app</code></li>
                                <li>When you change project names, <code
                                        class="language-plaintext highlighter-rouge">workon</code> deactivates your
                                    current working environment. This way, you can quickly switch between environments.
                                </li>
                            </ul>
                        </blockquote>

                    </div>

                    <div class="slide" id="slide-10">

                        <h2 class="slide__title"><span class="slide__num">11</span> Set Up a Cluster</h2>

                        <p>Install and configure management options for your Kubernetes cluster. Later, deploy your
                            application to this cluster.</p>

                        <h3 id="add-compartment-policy">Add Compartment Policy</h3>

                        <p>If your username is in the <strong>Administrators</strong> group, then skip this section.
                            Otherwise, have your administrator add the following policy to your tenancy:</p>

                        <div class="language-console highlighter-rouge">
                            <div class="highlight">
                                <pre class="highlight"><code><span class="gp">allow group &lt;the-group-your-username-belongs&gt;</span><span class="w"> </span>to manage compartments <span class="k">in </span>tenancy
                    </code></pre>
                            </div>
                        </div>

                        <p>With this privilege, you can create a compartment for all the resources in your tutorial.</p>

                        <h3 id="steps-to-add-the-policy">Steps to Add the Policy</h3>

                        <ol>
                            <li>In the top navigation bar, open the <strong>Profile</strong> menu.</li>
                            <li>Click your username.</li>
                            <li>In the left pane, click Groups.</li>
                            <li>In a notepad, copy the <strong>Group Name</strong> that your username belongs.</li>
                            <li>Open the navigation menu and click <strong>Identity &amp; Security</strong>. Under
                                <strong>Identity</strong>, click <strong>Policies</strong>.
                            </li>
                            <li>Select your compartment from the <strong>Compartment</strong> drop-down.</li>
                            <li>Click Create Policy.</li>
                            <li>Fill in the following information:
                                <ul>
                                    <li><strong>Name:</strong> <code
                                            class="language-plaintext highlighter-rouge">manage-compartments</code></li>
                                    <li><strong>Description:</strong> <code
                                            class="language-plaintext highlighter-rouge">Allow the group &lt;the-group-your-username-belongs&gt; to list, create, update, delete and recover compartments in the tenancy.</code>
                                    </li>
                                    <li><strong>Compartment:</strong> <code
                                            class="language-plaintext highlighter-rouge">&lt;your-tenancy&gt;(root)</code>
                                    </li>
                                </ul>
                            </li>
                            <li>For <strong>Policy Builder</strong>, click Customize (Advanced).</li>
                            <li>Paste in the following policy:</li>
                            <li>allow group <code
                                    class="language-plaintext highlighter-rouge">&lt;the-group-your-username-belongs&gt;</code>
                                to manage compartments in tenancy</li>
                            <li>Click Create.</li>
                        </ol>

                        <p><strong>Reference:</strong> The <code
                                class="language-plaintext highlighter-rouge">compartments</code> resource-type in <a
                                href="https://docs.oracle.com/iaas/Content/Identity/Reference/iampolicyreference.htm#Identity?source=:ex:tb:::::WWMK211117P00058:WW_FY22_DevRel_DotBuild&SC=:ex:tb:::::WWMK211117P00058:WW_FY22_DevRel_DotBuild&pcode=WWMK211117P00058">Verbs
                                + Resource-Type Combinations for IAM</a></p>

                    </div>

                    <div class="slide" id="slide-11">

                        <h2 class="slide__title"><span class="slide__num">12</span> Create a Compartment</h2>

                        <p>Create a compartment for the resources that you create in this tutorial.</p>

                        <ol>
                            <li>Log in to the Oracle Cloud Infrastructure <strong>Console</strong>.</li>
                            <li>Open the navigation menu and click <strong>Identity &amp; Security</strong>. Under
                                <strong>Identity</strong>, click <strong>Compartments</strong>.
                            </li>
                            <li>Click <strong>Create Compartment</strong>.</li>
                            <li>Fill in the following information:
                                <ul>
                                    <li><strong>Name:</strong> <code
                                            class="language-plaintext highlighter-rouge">&lt;your-compartment-name&gt;</code>
                                    </li>
                                    <li><strong>Description:</strong> <code
                                            class="language-plaintext highlighter-rouge">Compartment for &lt;your-description&gt;.</code>
                                    </li>
                                    <li><strong>Parent Compartment:</strong> <code
                                            class="language-plaintext highlighter-rouge">&lt;your-tenancy&gt;(root)</code>
                                    </li>
                                </ul>
                            </li>
                            <li>Click <strong>Create Compartment</strong>.</li>
                        </ol>

                        <p><strong>Reference:</strong> <a
                                href="https://docs.oracle.com/iaas/Content/Identity/Tasks/managingcompartments.htm#To?source=:ex:tb:::::WWMK211117P00058:WW_FY22_DevRel_DotBuild&SC=:ex:tb:::::WWMK211117P00058:WW_FY22_DevRel_DotBuild&pcode=WWMK211117P00058">Create
                                a compartment</a></p>

                    </div>

                    <div class="slide" id="slide-12">

                        <h2 class="slide__title"><span class="slide__num">13</span> Add Resource Policy</h2>

                        <p>If your username is in the <strong>Administrators</strong> group, then skip this section.
                            Otherwise, have your administrator add the following policy to your tenancy:</p>

                        <div class="language-console highlighter-rouge">
                            <div class="highlight">
                                <pre class="highlight"><code><span class="gp">allow group &lt;the-group-your-username-belongs&gt;</span><span class="w"> </span>to manage all-resources <span class="k">in </span>compartment &lt;your-compartment-name&gt;
                    </code></pre>
                            </div>
                        </div>

                        <p>With this privilege, you can <strong>manage all resources</strong> in your
                            <strong>compartment</strong>, essentially giving you administrative rights in that
                            compartment.
                        </p>

                        <h3 id="steps-to-add-the-policy-1">Steps to Add the Policy</h3>

                        <ol>
                            <li>Open the navigation menu and click <strong>Identity &amp; Security</strong>. Under
                                <strong>Identity</strong>, click <strong>Policies</strong>.
                            </li>
                            <li>Select your compartment from the <strong>Compartment</strong> drop-down.</li>
                            <li>Click Create Policy.</li>
                            <li>Fill in the following information:
                                <ul>
                                    <li><strong>Name:</strong> <code
                                            class="language-plaintext highlighter-rouge">manage-&lt;your-compartment-name&gt;-resources</code>
                                    </li>
                                    <li><strong>Description:</strong> <code
                                            class="language-plaintext highlighter-rouge">Allow users to list, create, update, and delete resources in &lt;your-compartment-name&gt;.</code>
                                    </li>
                                    <li><strong>Compartment:</strong> <code
                                            class="language-plaintext highlighter-rouge">&lt;your-tenancy&gt;(root)</code>
                                    </li>
                                </ul>
                            </li>
                            <li>For <strong>Policy Builder</strong>, select the following choices:
                                <ul>
                                    <li><strong>Policy use cases:</strong> <code
                                            class="language-plaintext highlighter-rouge">Compartment Management</code>
                                    </li>
                                    <li><strong>Common policy templates:</strong> <code
                                            class="language-plaintext highlighter-rouge">Let compartment admins manage the compartment</code>
                                    </li>
                                    <li><strong>Groups:</strong> <code
                                            class="language-plaintext highlighter-rouge">&lt;the-group-your-username-belongs&gt;</code>
                                    </li>
                                    <li><strong>Location:</strong> <code
                                            class="language-plaintext highlighter-rouge">&lt;your-tenancy&gt;(root)</code>
                                    </li>
                                </ul>
                            </li>
                            <li>Click Create.</li>
                        </ol>

                        <p><strong>Reference:</strong> <a
                                href="https://docs.oracle.com/iaas/Content/Identity/Concepts/commonpolicies.htm?source=:ex:tb:::::WWMK211117P00058:WW_FY22_DevRel_DotBuild&SC=:ex:tb:::::WWMK211117P00058:WW_FY22_DevRel_DotBuild&pcode=WWMK211117P00058">Common
                                Policies</a></p>

                        <h3 id="create-a-cluster-with-quick-create">Create a Cluster with ‘Quick Create’</h3>

                        <p>Create a cluster with default settings and new network resources through the ‘Quick Create’
                            workflow.</p>

                        <ol>
                            <li>Sign in to the Oracle Cloud Infrastructure <strong>Console</strong>.</li>
                            <li>Open the navigation menu and click <strong>Developer Services</strong>. Under
                                <strong>Containers &amp; Artifacts</strong>, click <strong>Kubernetes Clusters
                                    (OKE)</strong>.
                            </li>
                            <li>Click Create Cluster.</li>
                            <li>Select Quick Create.</li>
                            <li>Click Launch Workflow.
                                The <strong>Create Cluster</strong> dialog is displayed.</li>
                            <li>Fill in the following information.
                                <ul>
                                    <li><strong>Name:</strong> <code
                                            class="language-plaintext highlighter-rouge">&lt;your-cluster-name&gt;</code>
                                    </li>
                                    <li><strong>Compartment:</strong> <code
                                            class="language-plaintext highlighter-rouge">&lt;your-compartment-name&gt;</code>
                                    </li>
                                    <li><strong>Kubernetes Version:</strong> <code
                                            class="language-plaintext highlighter-rouge">&lt;take-default&gt;</code>
                                    </li>
                                    <li><strong>Kubernetes API Endpoint:</strong> Public Endpoint
                                        The Kubernetes cluster is hosted in a public subnet with an auto-assigned public
                                        IP address.</li>
                                    <li><strong>Kubernetes Worker Nodes:</strong> Private Workers
                                        The Kubernetes worker nodes are hosted in a private subnet.</li>
                                    <li><strong>Shape:</strong> <code
                                            class="language-plaintext highlighter-rouge">VM.Standard.E3.Flex</code></li>
                                    <li><strong>Number of Nodes:</strong> 3</li>
                                    <li><strong>Specify a custom boot volume size:</strong> Clear the check box.</li>
                                </ul>
                            </li>
                            <li>Click <strong>Next</strong>.
                                All your choices are displayed. Review them to ensure that everything is configured
                                correctly.</li>
                            <li>Click <strong>Create Cluster</strong>.
                                The services set up for your cluster are displayed.</li>
                            <li>Click <strong>Close</strong>.</li>
                            <li>Get a cup of coffee. It takes a few minutes for the cluster to be created.
                                You have successfully created a Kubernetes cluster.</li>
                        </ol>

                    </div>

                    <div class="slide" id="slide-13">

                        <h2 class="slide__title"><span class="slide__num">14</span> Set Up Local Access to Your Cluster
                        </h2>

                        <p>After you create a Kubernetes cluster, set up your local system to access the cluster.</p>

                        <ol>
                            <li>Sign in to the Oracle Cloud Infrastructure <strong>Console</strong>.</li>
                            <li>Open the navigation menu and click <strong>Developer Services</strong>. Under
                                <strong>Containers &amp; Artifacts</strong>, click <strong>Kubernetes Clusters
                                    (OKE)</strong>.
                            </li>
                            <li>Click the link to <code
                                    class="language-plaintext highlighter-rouge">&lt;your-cluster&gt;</code>. The
                                information about your cluster is displayed.</li>
                            <li>Click <strong>Access Cluster</strong>.</li>
                            <li>Click <strong>Local Access</strong>.</li>
                            <li>
                                <p>Follow the steps provided in the dialog. They are reprinted here for your reference.
                                </p>

                                <blockquote class="notice">
                                    <p>Note: If you are not in your virtual environment, enter: <code
                                            class="language-plaintext highlighter-rouge">workon cli-app</code> before
                                        you run <code class="language-plaintext highlighter-rouge">kubectl</code>
                                        commands.</p>
                                </blockquote>

                                <p>Check your <code class="language-plaintext highlighter-rouge">oci</code> CLI version.
                                </p>

                                <div class="language-console highlighter-rouge">
                                    <div class="highlight">
                                        <pre class="highlight"><code><span class="go"> oci -v
                    </span></code></pre>
                                    </div>
                                </div>

                                <p>Make your <code class="language-plaintext highlighter-rouge">.kube</code> directory
                                    if it doesn’t exist.</p>

                                <div class="language-console highlighter-rouge">
                                    <div class="highlight">
                                        <pre class="highlight"><code><span class="gp"> mkdir -p $</span>HOME/.kube
                    </code></pre>
                                    </div>
                                </div>

                                <p>Create a kubeconfig file for your setup. Use the information from <strong>Access Your
                                        Cluster</strong> dialog.</p>

                                <div class="language-console highlighter-rouge">
                                    <div class="highlight">
                                        <pre class="highlight"><code><span class="gp"> oci ce cluster create-kubeconfig &lt;use data from dialog&gt;</span><span class="w">
                    </span></code></pre>
                                    </div>
                                </div>

                                <p>Export the <code class="language-plaintext highlighter-rouge">KUBECONFIG</code>
                                    environment variable.</p>

                                <div class="language-console highlighter-rouge">
                                    <div class="highlight">
                                        <pre class="highlight"><code><span class="gp"> export KUBECONFIG=$</span>HOME/.kube/config
                    </code></pre>
                                    </div>
                                </div>

                                <blockquote class="notice">
                                    <p>Note: If you want to have the environment variable start in a new shell, then add
                                        <code
                                            class="language-plaintext highlighter-rouge">export KUBECONFIG=$HOME/.kube/config</code>
                                        to your <code class="language-plaintext highlighter-rouge">~/.bashrc</code>
                                        file.
                                    </p>
                                </blockquote>
                            </li>
                            <li>
                                <p>Test your cluster configuration with the following commands.
                                    List clusters:</p>

                                <div class="language-console highlighter-rouge">
                                    <div class="highlight">
                                        <pre class="highlight"><code><span class="go"> kubectl get service
                    </span></code></pre>
                                    </div>
                                </div>

                                <p>Get deployment details:</p>

                                <div class="language-console highlighter-rouge">
                                    <div class="highlight">
                                        <pre class="highlight"><code><span class="go"> kubectl describe deployment
                    </span></code></pre>
                                    </div>
                                </div>

                                <p>Get pods:</p>

                                <div class="language-console highlighter-rouge">
                                    <div class="highlight">
                                        <pre class="highlight"><code><span class="go"> kubectl get pods
                    </span></code></pre>
                                    </div>
                                </div>

                                <blockquote class="notice">
                                    <p>Note: Since no application is deployed, the last two commands produce: “No
                                        resources found in default namespace.”</p>
                                </blockquote>

                                <blockquote class="notice">
                                    <p>Note: To look at a different cluster, specify a different config file on the
                                        command line. Example:</p>

                                    <div class="language-console highlighter-rouge">
                                        <div class="highlight">
                                            <pre class="highlight"><code><span class="gp">kubectl --kubeconfig=&lt;/path/to/config/file&gt;</span><span class="w">
                    </span></code></pre>
                                        </div>
                                    </div>
                                </blockquote>
                            </li>
                        </ol>

                        <p>With your cluster access set up, you are now ready to prepare your application for
                            deployment.</p>

                    </div>

                    <div class="slide" id="slide-14">

                        <h2 class="slide__title"><span class="slide__num">15</span> Build a Local Application</h2>

                        <p>Build a local application and a Docker image for the application.</p>

                        <h3 id="create-a-local-application">Create a Local Application</h3>

                        <p>Create your Node.js application.</p>

                        <ol>
                            <li>Start an OCI CLI session.</li>
                            <li>
                                <p>Create a directory for your application.</p>

                                <div class="language-console highlighter-rouge">
                                    <div class="highlight">
                                        <pre class="highlight"><code><span class="go"> mkdir node-hello-app
                     cd node-hello-app
                    </span></code></pre>
                                    </div>
                                </div>
                            </li>
                            <li>
                                <p>Create a <code class="language-plaintext highlighter-rouge">package.json</code> file.
                                </p>

                                <p>Create the file:</p>

                                <div class="language-console highlighter-rouge">
                                    <div class="highlight">
                                        <pre class="highlight"><code><span class="go"> vi package.json
                    </span></code></pre>
                                    </div>
                                </div>

                                <p>In the file, input the following text, update the optional author and repository
                                    fields and then save the file:</p>

                                <div class="language-json highlighter-rouge">
                                    <div class="highlight">
                                        <pre class="highlight"><code><span class="w"> </span><span class="p">{</span><span class="w">
                             </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"node-hello-app"</span><span class="p">,</span><span class="w">
                             </span><span class="nl">"version"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1.0.0"</span><span class="p">,</span><span class="w">
                             </span><span class="nl">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Node Express Hello application"</span><span class="p">,</span><span class="w">
                             </span><span class="nl">"author"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Example User &lt;username@example.com&gt;"</span><span class="p">,</span><span class="w">
                             </span><span class="nl">"main"</span><span class="p">:</span><span class="w"> </span><span class="s2">"app.js"</span><span class="p">,</span><span class="w">
                             </span><span class="nl">"scripts"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                                 </span><span class="nl">"start"</span><span class="p">:</span><span class="w"> </span><span class="s2">"node app.js"</span><span class="w">
                             </span><span class="p">},</span><span class="w">
                             </span><span class="nl">"repository"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                                 </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"git"</span><span class="p">,</span><span class="w">
                                 </span><span class="nl">"url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"git://github.com/username/repository.git"</span><span class="w">
                             </span><span class="p">},</span><span class="w">
                             </span><span class="nl">"dependencies"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                                 </span><span class="nl">"express"</span><span class="p">:</span><span class="w"> </span><span class="s2">"^4.0.0"</span><span class="w">
                             </span><span class="p">},</span><span class="w">
                             </span><span class="nl">"license"</span><span class="p">:</span><span class="w"> </span><span class="s2">"UPL-1.0"</span><span class="w">
                     </span><span class="p">}</span><span class="w">          
                    </span></code></pre>
                                    </div>
                                </div>
                            </li>
                            <li>
                                <p>Install the NPM packages.</p>

                                <div class="language-console highlighter-rouge">
                                    <div class="highlight">
                                        <pre class="highlight"><code><span class="go"> npm install
                    </span></code></pre>
                                    </div>
                                </div>
                            </li>
                            <li>
                                <p>Create a “Hello, World!” application.</p>

                                <p>Create the file:</p>

                                <div class="language-console highlighter-rouge">
                                    <div class="highlight">
                                        <pre class="highlight"><code><span class="go"> vi app.js
                    </span></code></pre>
                                    </div>
                                </div>

                                <p>In the file, input the following text and save the file:</p>

                                <div class="language-javascript highlighter-rouge">
                                    <div class="highlight">
                                        <pre class="highlight"><code> <span class="kd">const</span> <span class="nx">express</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="dl">'</span><span class="s1">express</span><span class="dl">'</span><span class="p">)</span>
                     <span class="kd">const</span> <span class="nx">app</span> <span class="o">=</span> <span class="nx">express</span><span class="p">()</span>
                     <span class="nx">port</span> <span class="o">=</span> <span class="mi">3000</span>
                        
                     <span class="nx">app</span><span class="p">.</span><span class="kd">get</span><span class="p">(</span><span class="dl">'</span><span class="s1">/</span><span class="dl">'</span><span class="p">,</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">req</span><span class="p">,</span> <span class="nx">res</span><span class="p">)</span> <span class="p">{</span>
                         <span class="nx">res</span><span class="p">.</span><span class="nx">send</span><span class="p">(</span><span class="dl">'</span><span class="s1">&lt;h1&gt;Hello World from Node.js!&lt;/h1&gt;</span><span class="dl">'</span><span class="p">)</span>
                     <span class="p">})</span>
                        
                     <span class="nx">app</span><span class="p">.</span><span class="nx">listen</span><span class="p">(</span><span class="nx">port</span><span class="p">,</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
                         <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="dl">'</span><span class="s1">Hello World app listening on port </span><span class="dl">'</span> <span class="o">+</span> <span class="nx">port</span><span class="p">);</span>
                     <span class="p">})</span>
                    </code></pre>
                                    </div>
                                </div>
                            </li>
                        </ol>

                        <p>You have successfully set up your Node.js app.</p>

                    </div>

                    <div class="slide" id="slide-15">

                        <h2 class="slide__title"><span class="slide__num">16</span> Run the Local Application</h2>

                        <ol>
                            <li>
                                <p>Run your Node.js application.</p>

                                <div class="language-console highlighter-rouge">
                                    <div class="highlight">
                                        <pre class="highlight"><code><span class="go"> node app.js
                    </span></code></pre>
                                    </div>
                                </div>

                                <p>The Node Express server starts and displays:</p>

                                <div class="language-console highlighter-rouge">
                                    <div class="highlight">
                                        <pre class="highlight"><code><span class="go">     Hello World app listening on port 3000
                    </span></code></pre>
                                    </div>
                                </div>
                            </li>
                            <li>Test the application using <code
                                    class="language-plaintext highlighter-rouge">curl</code> or your browser.
                                <ul>
                                    <li>
                                        <p>To test with <code class="language-plaintext highlighter-rouge">curl</code>,
                                            enter:</p>

                                        <div class="language-console highlighter-rouge">
                                            <div class="highlight">
                                                <pre class="highlight"><code><span class="go">  curl -X GET http://localhost:3000
                    </span></code></pre>
                                            </div>
                                        </div>
                                    </li>
                                    <li>
                                        <p>To test with your browser, connect a browser window to: <code
                                                class="language-plaintext highlighter-rouge">http://&lt;your-ip-address&gt;:3000</code>
                                            (Optional).</p>

                                        <p>The app returns</p>

                                        <div class="language-html highlighter-rouge">
                                            <div class="highlight">
                                                <pre class="highlight"><code>  <span class="nt">&lt;h1&gt;</span>Hello World from Node.js!<span class="nt">&lt;/h1&gt;</span>
                    </code></pre>
                                            </div>
                                        </div>
                                    </li>
                                </ul>
                            </li>
                            <li>Stop the running application.</li>
                        </ol>

                        <p>Press <strong>Ctrl+C</strong> to stop your application in the terminal window you started
                            with.</p>

                        <p>You have successfully created a Hello World application using Node.js and Express.</p>

                        <p><strong>References:</strong></p>

                        <ul>
                            <li>For detailed information on this example, see <a
                                    href="https://expressjs.com/en/starter/hello-world.html">Getting Started with
                                    Express</a>.</li>
                        </ul>

                    </div>

                    <div class="slide" id="slide-16">

                        <h2 class="slide__title"><span class="slide__num">17</span> Build a Docker Image</h2>

                        <p>Next, create a Docker image for your Node.js Express application.</p>

                        <ol>
                            <li>
                                <p>Ensure you are in the <code
                                        class="language-plaintext highlighter-rouge">node-hello-app</code> directory.
                                </p>
                            </li>
                            <li>
                                <p>Build a Docker image.</p>

                                <div class="language-console highlighter-rouge">
                                    <div class="highlight">
                                        <pre class="highlight"><code><span class="go"> docker build -t node-hello-app .
                    </span></code></pre>
                                    </div>
                                </div>

                                <p>You get a success message.</p>

                                <div class="language-console highlighter-rouge">
                                    <div class="highlight">
                                        <pre class="highlight"><code><span class="go"> [INFO] BUILD SUCCESS
                     Successfully tagged node-hello-app:latest
                    </span></code></pre>
                                    </div>
                                </div>
                            </li>
                            <li>
                                <p>Run the Docker image:</p>

                                <div class="language-console highlighter-rouge">
                                    <div class="highlight">
                                        <pre class="highlight"><code><span class="go"> docker run --rm -p 3000:3000 node-hello-app:latest
                    </span></code></pre>
                                    </div>
                                </div>
                            </li>
                            <li>
                                <p>Test the application.</p>

                                <div class="language-console highlighter-rouge">
                                    <div class="highlight">
                                        <pre class="highlight"><code><span class="go"> curl -X GET http://localhost:3000
                    </span></code></pre>
                                    </div>
                                </div>

                                <p>The app returns:</p>

                                <div class="language-html highlighter-rouge">
                                    <div class="highlight">
                                        <pre class="highlight"><code> <span class="nt">&lt;h1&gt;</span>Hello World from Node.js!<span class="nt">&lt;/h1&gt;</span>
                    </code></pre>
                                    </div>
                                </div>
                            </li>
                            <li>
                                <p>Stop the running application.</p>
                            </li>
                        </ol>

                        <p>Congratulations! You have successfully created a Node.js Express image.</p>

                    </div>

                    <div class="slide" id="slide-17">

                        <h2 class="slide__title"><span class="slide__num">18</span> Deploy Your Docker Image</h2>

                        <p>Push your Node.js Express image to OCI Container Registry. Then use the image to deploy your
                            application.</p>

                        <h3 id="create-a-docker-repository">Create a Docker Repository</h3>

                        <ol>
                            <li>Open the navigation menu and click <strong>Developer Services</strong>. Under
                                <strong>Containers &amp; Artifacts</strong>, click <strong>Container Registry</strong>.
                            </li>
                            <li>In the left navigation, select <code
                                    class="language-plaintext highlighter-rouge">&lt;your-compartment-name&gt;</code>.
                            </li>
                            <li>Click Create Repository.</li>
                            <li>
                                <p>Create a <strong>private repository</strong> with your choice of repo name:</p>

                                <div class="language-console highlighter-rouge">
                                    <div class="highlight">
                                        <pre class="highlight"><code><span class="gp"> &lt;repo-name&gt;</span><span class="w"> </span><span class="o">=</span> &lt;image-path-name&gt;/&lt;image-name&gt;
                    </code></pre>
                                    </div>
                                </div>

                                <p>Example: <code
                                        class="language-plaintext highlighter-rouge">node-apps/node-hello-app</code></p>
                            </li>
                        </ol>

                        <p>You are now ready to push your local image to Container Registry.</p>

                        <blockquote class="notice">
                            <p>Note: Before you can push a Docker image into a registry repository, <strong>the
                                    repository must exist in your compartment</strong>. If the repository does not
                                exist, the Docker push command does not work correctly.</p>
                        </blockquote>

                        <blockquote class="notice">
                            <p>Note: The slash in a repository name <strong>does not represent a hierarchical directory
                                    structure</strong>. The optional <code
                                    class="language-plaintext highlighter-rouge">&lt;image-path-name&gt;</code> helps to
                                organize your repositories.</p>
                        </blockquote>

                    </div>

                    <div class="slide" id="slide-18">

                        <h2 class="slide__title"><span class="slide__num">19</span> Push Your Local Image</h2>

                        <p>With your local Docker image created, push the image to the Container Registry.</p>

                        <p>Follow these steps.</p>

                        <ol>
                            <li>Open your OCI CLI session.</li>
                            <li>
                                <p>Log in to OCI Container Registry:</p>

                                <div class="language-console highlighter-rouge">
                                    <div class="highlight">
                                        <pre class="highlight"><code><span class="gp"> docker login &lt;region-key&gt;</span>.ocir.io
                    </code></pre>
                                    </div>
                                </div>

                                <p>You are prompted for your login name and password.</p>

                                <ul>
                                    <li><strong>Username:</strong> <code
                                            class="language-plaintext highlighter-rouge">&lt;tenancy-namespace&gt;/&lt;user-name&gt;</code>
                                    </li>
                                    <li><strong>Password:</strong> <code
                                            class="language-plaintext highlighter-rouge">&lt;auth-token&gt;</code></li>
                                </ul>
                            </li>
                            <li>
                                <p>List your local Docker images:</p>

                                <div class="language-console highlighter-rouge">
                                    <div class="highlight">
                                        <pre class="highlight"><code><span class="go"> docker images
                    </span></code></pre>
                                    </div>
                                </div>
                                <p>The Docker images on your system are displayed. Identify the image you created in the
                                    last section: <code
                                        class="language-plaintext highlighter-rouge">node-hello-app</code></p>
                            </li>
                            <li>
                                <p><strong>Tag</strong> your local image with the <strong>URL for the registry</strong>
                                    plus the <strong>repo name</strong>, so you can push it to that repo.</p>

                                <div class="language-console highlighter-rouge">
                                    <div class="highlight">
                                        <pre class="highlight"><code><span class="gp">     docker tag &lt;your-local-image&gt;</span><span class="w"> </span>&lt;repo-url&gt;/&lt;repo-name&gt;
                    </code></pre>
                                    </div>
                                </div>

                                <ul>
                                    <li>
                                        <p>Replace <strong><code
                                                    class="language-plaintext highlighter-rouge">&lt;repo-url&gt;</code></strong>
                                            with:
                                            <code
                                                class="language-plaintext highlighter-rouge">&lt;region-key&gt;.ocir.io/&lt;tenancy-namespace&gt;/</code>
                                        </p>
                                    </li>
                                    <li>
                                        <p>Replace <strong><code
                                                    class="language-plaintext highlighter-rouge">&lt;repo-name&gt;</code></strong>
                                            with:
                                            <code
                                                class="language-plaintext highlighter-rouge">&lt;image-folder-name&gt;/&lt;image-name&gt;</code>
                                            from the <strong>Create a Docker Repository</strong> section.
                                        </p>
                                    </li>
                                    <li>
                                        <p>Here is an example after combining both:</p>
                                    </li>
                                </ul>

                                <div class="language-console highlighter-rouge">
                                    <div class="highlight">
                                        <pre class="highlight"><code><span class="go"> docker tag node-hello-app iad.ocir.io/my-namespace/node-apps/node-hello-app
                    </span></code></pre>
                                    </div>
                                </div>

                                <p>In this example, the components are:</p>

                                <ul>
                                    <li><strong>Repo URL:</strong> <code
                                            class="language-plaintext highlighter-rouge">iad.ocir.io/my-namespace/</code>
                                    </li>
                                    <li><strong>Repo name:</strong> <code
                                            class="language-plaintext highlighter-rouge">node-apps/node-hello-app</code>
                                    </li>
                                </ul>

                                <blockquote class="notice">
                                    <p>Note: OCI Container Registry now supports creating a registry repo in any
                                        compartment rather than only in the root compartment (tenancy). To push the
                                        image to the repo you created, combine the registry URL with the exact repo
                                        name. OCI Container Registry matches based on the unique repo name and pushes
                                        your image.</p>
                                </blockquote>
                            </li>
                            <li>
                                <p>Check your Docker images to see if the image is <strong>copied</strong>.</p>

                                <div class="language-console highlighter-rouge">
                                    <div class="highlight">
                                        <pre class="highlight"><code><span class="go"> docker images
                    </span></code></pre>
                                    </div>
                                </div>

                                <ul>
                                    <li>The tagged image has <strong>the same image ID</strong> as your local image.
                                    </li>
                                    <li>The tagged image name is: <code
                                            class="language-plaintext highlighter-rouge">&lt;region-key&gt;.ocir.io/&lt;tenancy-namespace&gt;/&lt;image-path-name&gt;/&lt;image-name&gt;</code>
                                    </li>
                                </ul>
                            </li>
                            <li>
                                <p>Push the image to Container Registry.</p>

                                <div class="language-console highlighter-rouge">
                                    <div class="highlight">
                                        <pre class="highlight"><code><span class="gp"> docker push &lt;copied-image-name&gt;</span>:latest
                    </code></pre>
                                    </div>
                                </div>

                                <p>Example:</p>

                                <div class="language-console highlighter-rouge">
                                    <div class="highlight">
                                        <pre class="highlight"><code><span class="go"> docker push iad.ocir.io/my-namespace/node-apps/node-hello-app:latest
                    </span></code></pre>
                                    </div>
                                </div>
                            </li>
                            <li>Open the navigation menu and click <strong>Developer Services</strong>. Under
                                <strong>Containers &amp; Artifacts</strong>, click <strong>Container Registry</strong>.
                            </li>
                        </ol>

                        <p>Find your image in Container Registry after the push command is complete.</p>

                    </div>

                    <div class="slide" id="slide-19">

                        <h2 class="slide__title"><span class="slide__num">20</span> Deploy the Image</h2>

                        <p>With your image in Container Registry, you can now deploy your image and app.</p>

                        <ol>
                            <li>
                                <p>Create a registry secret for your application. This secret authenticates your image
                                    when you deploy it to your cluster.</p>

                                <p>To create your secret, fill in the information in this template .</p>

                                <div class="language-console highlighter-rouge">
                                    <div class="highlight">
                                        <pre class="highlight"><code><span class="gp"> kubectl create secret docker-registry ocirsecret --docker-server=&lt;region-key&gt;</span>.ocir.io  <span class="nt">--docker-username</span><span class="o">=</span><span class="s1">'&lt;tenancy-namespace&gt;/&lt;user-name&gt;'</span> <span class="nt">--docker-password</span><span class="o">=</span><span class="s1">'&lt;auth-token&gt;'</span>  <span class="nt">--docker-email</span><span class="o">=</span><span class="s1">'&lt;email-address&gt;'</span>
                    </code></pre>
                                    </div>
                                </div>

                                <p>After the command runs, you get a message similar to: <code
                                        class="language-plaintext highlighter-rouge">secret/ocirsecret created</code>.
                                </p>
                            </li>
                            <li>
                                <p>Verify that the secret is created. Issue the following command:</p>

                                <div class="language-console highlighter-rouge">
                                    <div class="highlight">
                                        <pre class="highlight"><code><span class="go"> kubectl get secret ocirsecret --output=yaml
                    </span></code></pre>
                                    </div>
                                </div>

                                <p>The output includes information about your secret in the yaml format.</p>
                            </li>
                            <li>
                                <p>Determine the host URL to your registry image using the following template:</p>

                                <div class="language-console highlighter-rouge">
                                    <div class="highlight">
                                        <pre class="highlight"><code><span class="gp"> &lt;region-code&gt;</span>.ocir.io/&lt;tenancy-namespace&gt;/&lt;repo-name&gt;/&lt;image-name&gt;:&lt;tag&gt;
                    </code></pre>
                                    </div>
                                </div>

                                <p>Example:</p>

                                <div class="language-console highlighter-rouge">
                                    <div class="highlight">
                                        <pre class="highlight"><code><span class="go"> iad.ocir.io/my-namespace/node-apps/node-hello-app:latest
                    </span></code></pre>
                                    </div>
                                </div>
                            </li>
                            <li>
                                <p>On your system, create a file called <code
                                        class="language-plaintext highlighter-rouge">node-app.yaml</code> with the
                                    following text:</p>

                                <p>Replace the following place holders:</p>

                                <ul>
                                    <li><code class="language-plaintext highlighter-rouge">&lt;your-image-url&gt;</code>
                                    </li>
                                    <li><code
                                            class="language-plaintext highlighter-rouge">&lt;your-secret-name&gt;</code>
                                    </li>
                                </ul>

                                <div class="language-yaml highlighter-rouge">
                                    <div class="highlight">
                                        <pre class="highlight"><code> <span class="na">apiVersion</span><span class="pi">:</span> <span class="s">apps/v1</span>
                         <span class="s">kind</span><span class="err">:</span> <span class="s">Deployment</span>
                         <span class="s">metadata</span><span class="err">:</span>
                           <span class="na">name</span><span class="pi">:</span> <span class="s">node-app</span>
                         <span class="na">spec</span><span class="pi">:</span>
                           <span class="na">selector</span><span class="pi">:</span>
                             <span class="na">matchLabels</span><span class="pi">:</span>
                               <span class="na">app</span><span class="pi">:</span> <span class="s">app</span>
                           <span class="na">replicas</span><span class="pi">:</span> <span class="m">3</span>
                           <span class="na">template</span><span class="pi">:</span>
                             <span class="na">metadata</span><span class="pi">:</span>
                               <span class="na">labels</span><span class="pi">:</span>
                                 <span class="na">app</span><span class="pi">:</span> <span class="s">app</span>
                             <span class="na">spec</span><span class="pi">:</span>
                               <span class="na">containers</span><span class="pi">:</span>
                               <span class="pi">-</span> <span class="na">name</span><span class="pi">:</span> <span class="s">app</span>
                                 <span class="na">image</span><span class="pi">:</span> <span class="s">&lt;your-image-url&gt;</span>
                                 <span class="na">imagePullPolicy</span><span class="pi">:</span> <span class="s">Always</span>
                                 <span class="na">ports</span><span class="pi">:</span>
                                 <span class="pi">-</span> <span class="na">name</span><span class="pi">:</span> <span class="s">app</span>
                                   <span class="na">containerPort</span><span class="pi">:</span> <span class="m">3000</span>
                                   <span class="na">protocol</span><span class="pi">:</span> <span class="s">TCP</span>
                               <span class="na">imagePullSecrets</span><span class="pi">:</span>
                                 <span class="pi">-</span> <span class="na">name</span><span class="pi">:</span> <span class="s">&lt;your-secret-name&gt;</span>
                         <span class="s">---</span>
                         <span class="na">apiVersion</span><span class="pi">:</span> <span class="s">v1</span>
                         <span class="na">kind</span><span class="pi">:</span> <span class="s">Service</span>
                         <span class="na">metadata</span><span class="pi">:</span>
                           <span class="na">name</span><span class="pi">:</span> <span class="s">node-app-lb</span>
                           <span class="na">labels</span><span class="pi">:</span>
                             <span class="na">app</span><span class="pi">:</span> <span class="s">app</span>
                           <span class="na">annotations</span><span class="pi">:</span>
                             <span class="na">service.beta.kubernetes.io/oci-load-balancer-shape</span><span class="pi">:</span> <span class="s2">"</span><span class="s">flexible"</span>
                             <span class="na">service.beta.kubernetes.io/oci-load-balancer-shape-flex-min</span><span class="pi">:</span> <span class="s2">"</span><span class="s">10"</span>
                             <span class="na">service.beta.kubernetes.io/oci-load-balancer-shape-flex-max</span><span class="pi">:</span> <span class="s2">"</span><span class="s">100"</span>
                         <span class="na">spec</span><span class="pi">:</span>
                           <span class="na">type</span><span class="pi">:</span> <span class="s">LoadBalancer</span>
                           <span class="na">ports</span><span class="pi">:</span>
                           <span class="pi">-</span> <span class="na">port</span><span class="pi">:</span> <span class="m">3000</span>
                           <span class="na">selector</span><span class="pi">:</span>
                             <span class="na">app</span><span class="pi">:</span> <span class="s">app</span>
                    </code></pre>
                                    </div>
                                </div>
                            </li>
                            <li>
                                <p>Deploy your application with the following command.</p>

                                <div class="language-console highlighter-rouge">
                                    <div class="highlight">
                                        <pre class="highlight"><code><span class="go"> kubectl create -f node-app.yaml
                    </span></code></pre>
                                    </div>
                                </div>

                                <p>Output:</p>

                                <div class="language-console highlighter-rouge">
                                    <div class="highlight">
                                        <pre class="highlight"><code><span class="go"> deployment.apps/node-app created
                     service/node-app-lb created
                    </span></code></pre>
                                    </div>
                                </div>
                            </li>
                        </ol>

                        <blockquote class="notice">
                            <p>Note: In the <code class="language-plaintext highlighter-rouge">node-app.yaml</code>
                                file, the code after the dashes adds a flexible load balancer.</p>
                        </blockquote>

                    </div>

                    <div class="slide" id="slide-20">

                        <h2 class="slide__title"><span class="slide__num">21</span> Test Your App</h2>

                        <p>After you deploy your app, it might take the load balancer a few seconds to load.</p>

                        <ol>
                            <li>
                                <p>Check if the load balancer is live:</p>

                                <div class="language-console highlighter-rouge">
                                    <div class="highlight">
                                        <pre class="highlight"><code><span class="go"> kubectl get service
                    </span></code></pre>
                                    </div>
                                </div>

                                <p>Repeat the command until load balancer is assigned an IP address.</p>

                                <blockquote class="notice">
                                    <p><strong>Note:</strong> While waiting for the load balancer to deploy, you can
                                        check the status of your cluster with these commands:</p>

                                    <ul>
                                        <li>Get each pods status: <code
                                                class="language-plaintext highlighter-rouge">kubectl get pods</code>
                                        </li>
                                        <li>Get app status: <code
                                                class="language-plaintext highlighter-rouge">kubectl get deployment</code>
                                        </li>
                                    </ul>
                                </blockquote>
                            </li>
                            <li>
                                <p>Use the load balancer IP address to connect to your app in a browser:</p>

                                <div class="language-console highlighter-rouge">
                                    <div class="highlight">
                                        <pre class="highlight"><code><span class="gp"> http://&lt;load-balancer-IP-address&gt;</span>:3000
                    </code></pre>
                                    </div>
                                </div>

                                <p>The browser displays: <code
                                        class="language-plaintext highlighter-rouge">&lt;h1&gt;Hello World from Node.js!&lt;/h1&gt;</code>
                                </p>
                            </li>
                            <li>
                                <p>Undeploy your application from the cluster. <strong>(Optional)</strong> To remove
                                    your application run this command:</p>

                                <div class="language-console highlighter-rouge">
                                    <div class="highlight">
                                        <pre class="highlight"><code><span class="go"> kubectl delete -f node-app.yaml
                    </span></code></pre>
                                    </div>
                                </div>

                                <p>Output:</p>

                                <div class="language-console highlighter-rouge">
                                    <div class="highlight">
                                        <pre class="highlight"><code><span class="go"> deployment.apps/node-app deleted
                     service "node-app-lb" deleted
                    </span></code></pre>
                                    </div>
                                </div>

                                <p>Your application is now removed from your cluster.</p>
                            </li>
                        </ol>

                    </div>

                    <div class="slide" id="slide-21">

                        <h2 class="slide__title"><span class="slide__num">22</span> What's Next</h2>

                        <p>You have successfully created a Hello World application, deployed it to a Kubernetes cluster
                            and made it accessible on the internet, using the Node Express framework.</p>

                        <p>Check out these sites to explore more information about development with Oracle products:</p>

                        <ul>
                            <li><a
                                    href="https://developer.oracle.com/?source=:ex:tb:::::WWMK211117P00058:WW_FY22_DevRel_DotBuild&SC=:ex:tb:::::WWMK211117P00058:WW_FY22_DevRel_DotBuild&pcode=WWMK211117P00058">Oracle
                                    Developers Portal</a></li>
                            <li><a
                                    href="https://www.oracle.com/cloud/?source=:ex:tb:::::WWMK211117P00058:WW_FY22_DevRel_DotBuild&SC=:ex:tb:::::WWMK211117P00058:WW_FY22_DevRel_DotBuild&pcode=WWMK211117P00058">Oracle
                                    Cloud Infrastructure</a></li>
                        </ul>



                    </div>
                </section>
                <!-- /cc01v0 -->
            </main>
        </div>
    </div>
</section> <!-- /F19v0 -->